# ==========================================
# .env.example
# Copy this to .env and fill in your values
# ==========================================

# OpenAI API Key (optional - for advanced cognition)
OPENAI_API_KEY=sk-your-key-here

# API Configuration
API_HOST=127.0.0.1
API_PORT=8000

# Logging Level (DEBUG, INFO, WARNING, ERROR)
LOG_LEVEL=INFO

# Model Configuration
OPENAI_MODEL=gpt-4o-mini
SEMANTIC_MODEL=all-MiniLM-L6-v2

# ==========================================
# aeon/config.py
# Configuration management
# ==========================================

import os
from typing import Optional
from dotenv import load_dotenv

# Load environment variables
load_dotenv()


class Config:
    """Central configuration for AEON system"""
    
    # API Settings
    API_HOST: str = os.getenv("API_HOST", "127.0.0.1")
    API_PORT: int = int(os.getenv("API_PORT", "8000"))
    
    # OpenAI Settings
    OPENAI_API_KEY: Optional[str] = os.getenv("OPENAI_API_KEY")
    OPENAI_MODEL: str = os.getenv("OPENAI_MODEL", "gpt-4o-mini")
    
    # Model Settings
    SEMANTIC_MODEL: str = os.getenv("SEMANTIC_MODEL", "all-MiniLM-L6-v2")
    
    # Logging
    LOG_LEVEL: str = os.getenv("LOG_LEVEL", "INFO")
    
    # Protocol Settings
    DEFAULT_REWARD: float = 3.0
    REWARD_ALPHA: float = 0.3  # Learning rate for reward updates
    
    # Evolution Settings
    MUTATION_PROBABILITY: float = 0.2
    EVOLUTION_THRESHOLD: int = 3  # Min executions before evolution
    
    @classmethod
    def is_llm_available(cls) -> bool:
        """Check if LLM features are available"""
        return cls.OPENAI_API_KEY is not None and len(cls.OPENAI_API_KEY) > 0
    
    @classmethod
    def get_log_config(cls) -> dict:
        """Get logging configuration"""
        return {
            "version": 1,
            "disable_existing_loggers": False,
            "formatters": {
                "default": {
                    "format": "%(asctime)s - %(name)s - %(levelname)s - %(message)s"
                }
            },
            "handlers": {
                "console": {
                    "class": "logging.StreamHandler",
                    "formatter": "default",
                    "level": cls.LOG_LEVEL
                }
            },
            "root": {
                "level": cls.LOG_LEVEL,
                "handlers": ["console"]
            }
        }


# Create global config instance
config = Config()
